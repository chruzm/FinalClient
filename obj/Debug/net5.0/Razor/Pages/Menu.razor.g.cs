#pragma checksum "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "163a9b93d978213d3d4367d3066c911e1114745c"
// <auto-generated/>
#pragma warning disable 1591
namespace Client.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Bruger\RiderProjects\Client\Client\_Imports.razor"
using Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
using Client.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
using Client.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
using System.Text.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
using System.Collections.ObjectModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
using System.Net.Mail;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Menu")]
    public partial class Menu : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 9 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
 if (men == null) {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(0, "<p><em><img src=\"boog.gif\" alt=\"Italian Trulli\"></em></p>");
#nullable restore
#line 13 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
}
else if (!men.Any()) {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(1, "<p><em><img src=\"boog.gif\" alt=\"Italian Trulli\"></em></p>");
#nullable restore
#line 18 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(2, "<h3 style=\"font-family:\'Courier New\'\">Menu</h3>\r\n    ");
            __builder.OpenElement(3, "table");
            __builder.AddAttribute(4, "class", "table");
            __builder.AddMarkupContent(5, @"<thead><tr><th><p style=""font-family:'Courier New'"">*</p></th>
            <th><p style=""font-family:'Courier New'"">items</p></th>
            <th><p style=""font-family:'Courier New'"">price</p></th>
            <th><p style=""font-family:'Courier New'""><h7 style=""color:tomato;"">
                    üóëÔ∏è
                </h7></p></th></tr></thead>
        ");
            __builder.OpenElement(6, "tbody");
#nullable restore
#line 34 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
         foreach (var item in men)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(7, "tr");
            __builder.OpenElement(8, "td");
            __builder.OpenElement(9, "button");
            __builder.AddAttribute(10, "class", "btn");
            __builder.AddAttribute(11, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 38 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                  () => orderedmenuitems.Add(item)

#line default
#line hidden
#nullable disable
            ));
            __builder.OpenElement(12, "p");
            __builder.AddAttribute(13, "style", "font-family:\'Courier New\'");
            __builder.AddContent(14, 
#nullable restore
#line 39 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                                item.number

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(15, "\r\n                ");
            __builder.OpenElement(16, "td");
            __builder.OpenElement(17, "button");
            __builder.AddAttribute(18, "class", "btn");
            __builder.AddAttribute(19, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 43 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                  () => orderedmenuitems.Add(item)

#line default
#line hidden
#nullable disable
            ));
            __builder.OpenElement(20, "p");
            __builder.AddAttribute(21, "style", "font-family:\'Courier New\'");
            __builder.AddContent(22, 
#nullable restore
#line 44 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                                item.food

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(23, "\r\n                ");
            __builder.OpenElement(24, "td");
            __builder.OpenElement(25, "button");
            __builder.AddAttribute(26, "class", "btn");
            __builder.AddAttribute(27, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 48 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                  () => orderedmenuitems.Add(item)

#line default
#line hidden
#nullable disable
            ));
            __builder.OpenElement(28, "p");
            __builder.AddAttribute(29, "style", "font-family:\'Courier New\'");
            __builder.AddContent(30, 
#nullable restore
#line 49 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                                 item.price

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(31, " DKK");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n                ");
            __builder.OpenElement(33, "td");
            __builder.OpenElement(34, "button");
            __builder.AddAttribute(35, "class", "btn");
            __builder.AddAttribute(36, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 53 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                  () => orderedmenuitems.Remove(item)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(37, "<h7 style=\"color:tomato;\"><p style=\"font-family:\'Courier New\'\">  -remove-  </p></h7>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n                \r\n                <td></td>");
            __builder.CloseElement();
#nullable restore
#line 63 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 66 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
     if (W == 0)
    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(39, "<br>\r\n        ");
            __builder.AddMarkupContent(40, "<h4><p style=\"font-family:\'Courier New\'\"> Bekr√¶ft bestilling </p></h4>\r\n        <br>\r\n        ");
            __builder.AddMarkupContent(41, "<p style=\"font-family:\'Courier New\'\">(bestilling g√•r ikke igennem med ugyldig information) </p>\r\n        ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(42);
            __builder.AddAttribute(43, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 73 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                          o

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(44, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 73 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                             AddOrder

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(45, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(46, "<label for=\"fname\"><p style=\"font-family:\'Courier New\'\">*KRAV* Adresse:</p></label><br>\r\n            ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputTextArea>(47);
                __builder2.AddAttribute(48, "rows", "1");
                __builder2.AddAttribute(49, "name", "pin");
                __builder2.AddAttribute(50, "maxlength", "100");
                __builder2.AddAttribute(51, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 76 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                                            x

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(52, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => x = __value, x))));
                __builder2.AddAttribute(53, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => x));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(54, "\r\n            <p></p>\r\n            ");
                __builder2.AddMarkupContent(55, "<label for=\"fname\"><p style=\"font-family:\'Courier New\'\">*KRAV* Email:</p></label><br>\r\n            ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputTextArea>(56);
                __builder2.AddAttribute(57, "rows", "1");
                __builder2.AddAttribute(58, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 80 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                 y

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(59, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => y = __value, y))));
                __builder2.AddAttribute(60, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => y));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(61, "\r\n            <p></p>\r\n            <p></p>\r\n            ");
                __builder2.AddMarkupContent(62, "<label for=\"fname\"><p style=\"font-family:\'Courier New\'\">*KRAV* phone number:</p></label><br>\r\n            ");
                __builder2.OpenComponent<Microsoft.AspNetCore.Components.Forms.InputTextArea>(63);
                __builder2.AddAttribute(64, "rows", "1");
                __builder2.AddAttribute(65, "name", "pin");
                __builder2.AddAttribute(66, "maxlength", "8");
                __builder2.AddAttribute(67, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 85 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                                          phone

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(68, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => phone = __value, phone))));
                __builder2.AddAttribute(69, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => phone));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(70, "\r\n            <p></p>");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(71, "\r\n        <br>\r\n        ");
            __builder.OpenElement(72, "div");
            __builder.OpenElement(73, "label");
            __builder.AddAttribute(74, "style", "font-family:\'Courier New\'");
            __builder.AddContent(75, "items in order: ");
            __builder.AddContent(76, 
#nullable restore
#line 90 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                                      orderedmenuitems.Count

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(77, " <br>\r\n                total price: ");
            __builder.AddContent(78, 
#nullable restore
#line 91 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                              getOrderTotal()

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(79, " DKK\r\n                <br>\r\n                <br>");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 96 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
        
        //<button class="btn btn-primary" @onclick="SendOrder">send to server</button>

#line default
#line hidden
#nullable disable
            __builder.OpenElement(80, "button");
            __builder.AddAttribute(81, "class", "btn btn-primary");
            __builder.AddAttribute(82, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 98 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
                                                  AddOrder

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(83, "<p style=\"font-family:\'Courier New\'\">Ja tak</p>");
            __builder.CloseElement();
            __builder.AddMarkupContent(84, "\r\n                                                           <p></p>");
#nullable restore
#line 101 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
        
    }
    else if (W == 1)
    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(85, "<p style=\"font-family:\'Courier New\'\">\r\n                        ü•ìü•ìü•ìü•ì <br>\r\n                        ugyldig information, genindl√¶s siden og pr√∏v igen <br>\r\n                        ü•ìü•ìü•ìü•ì\r\n                    </p>");
#nullable restore
#line 110 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
    }
    else
    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(86, "<p style=\"font-family:\'Courier New\'\">\r\n            ü•ìü•ìü•ìü•ì <br>\r\n            tak for din bestilling, forvented ventetid... 35 minutter <br>\r\n            ü•ìü•ìü•ìü•ì\r\n        </p>");
#nullable restore
#line 118 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 118 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
     
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 121 "C:\Users\Bruger\RiderProjects\Client\Client\Pages\Menu.razor"
       
    //adressen for rest serveren som holder vores menu
    private static string listuri = "http://localhost:8080/menu/1";
    private string x, y, phone;
    static IList<MenuObject> men = new List<MenuObject>();
    static IList<MenuObject> orderedmenuitems = new List<MenuObject>();
    OrderObject o = new OrderObject();
    private int W = 0;

    //OnInitializedAsync g√∏r s√• metoden automatisk bliver kaldt, n√•r siden er laoded
    //virker
    protected override async Task OnInitializedAsync()
    {
        orderedmenuitems.Clear();
    //Console.WriteLine(tst.GetListAsync("1"));
        for (int x = 1; x <= 9; x++)
        {
            if (men.Count == 0)
            {
                men.Add(await tst.GetMenuAsync(x));
            }
            else if (men.Count > 0)
            {
                men.Clear();
                men.Add(await tst.GetMenuAsync(1));
                men.Add(await tst.GetMenuAsync(2));
                men.Add(await tst.GetMenuAsync(3));
                men.Add(await tst.GetMenuAsync(4));
                men.Add(await tst.GetMenuAsync(6));
                men.Add(await tst.GetMenuAsync(7));
                men.Add(await tst.GetMenuAsync(8));
                men.Add(await tst.GetMenuAsync(9));
                men.Add(await tst.GetMenuAsync(10));
            }
        }
        HttpClient client = new HttpClient();
        Task<string> stringAsync = client.GetStringAsync(listuri);
        string message = await stringAsync;
        MenuObject result = JsonSerializer.Deserialize<MenuObject>(message);
    }
    
    public static int orderNumber()
    {
        Random number = new Random();

        return number.Next(1000000) + 1;
    }

    public async Task AddOrder()
    {
        for (int x = 0; x < orderedmenuitems.Count; x++)
        {
            o.price += orderedmenuitems[x].price;
            o.items += orderedmenuitems[x].food+" + ";
        }
        o.adr = x;
        o.email = y;
        o.phone = phone;
        o.ordernumber = orderNumber();
        Console.WriteLine("mad tilf√∏jet til bestilling: "+o.items);
        Console.WriteLine("total pris af bestilling: "+o.price);
        Console.WriteLine("bestillingsNummer: "+o.ordernumber);
        Console.WriteLine("Til adresse: "+o.adr);
        if (o.adr == null || o.email == null || o.phone == null)
        {
            W += 1;
        }
        else if (o.adr != null || o.email != null || o.phone != null)
        {
            W = 2;
           await tst.SendOrderAsync(o); 
        }
        SendMail();
    }

    public string getOrderTotal()
    {
        int total = 0;
        for (int x = 0; x < orderedmenuitems.Count; x++)
        {
            total += orderedmenuitems[x].price;
        }
        Console.WriteLine(total);
        return total.ToString();
    }
    
    //fors√∏ger
    public async Task SendMail()
    {
        SmtpClient client = new SmtpClient("smtp.gmail.com", 587)
        {
            Credentials = new NetworkCredential("foodsfastfood@gmail.com", "foods2fast"),
            EnableSsl = true
        };
        client.Send("foodsfastfood@gmail.com", y, "Tak for at v√¶lge vores fast food", "Tak for din bestilling. " +
                                                                                      "Du har bestilt "+o.items+" til total pris af "+o.price+" DKK" +
                                                                                      "MvH. Danmark takeaway!");
        Console.WriteLine("Sent");
        Console.ReadLine();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ITest tst { get; set; }
    }
}
#pragma warning restore 1591
